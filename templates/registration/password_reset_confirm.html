{% extends "base.html" %}
{% block title %}Redefinir senha | Cartas de Amor{% endblock %}
{% block content %}
<section class="mx-auto max-w-md animate__animated animate__fadeInUp rounded-3xl border border-base-300 bg-base-200 p-6 shadow-soft">
  <h1 class="text-2xl font-semibold text-love-100">Definir nova senha</h1>
  {% if validlink %}
    <form method="post" class="mt-5 space-y-4">
      {% csrf_token %}
      <div>
        <label class="mb-2 block text-sm text-base-400">Nova senha</label>
        {{ form.new_password1 }}
        <p class="mt-1 text-xs text-love-200">{{ form.new_password1.errors|striptags }}</p>
      </div>
      <div>
        <label class="mb-2 block text-sm text-base-400">Confirmar nova senha</label>
        {{ form.new_password2 }}
        <p class="mt-1 text-xs text-love-200">{{ form.new_password2.errors|striptags }}</p>
      </div>
      <button data-loading-text="Salvando nova senha..." class="w-full rounded-2xl bg-love-400 px-5 py-4 text-base font-semibold text-white">Salvar nova senha</button>
    </form>
  {% else %}
    <p class="mt-3 text-sm text-base-400">Este link expirou ou e invalido. Solicite um novo email.</p>
    <a href="{% url 'letters:password_reset' %}" class="mt-5 inline-flex rounded-2xl border border-love-200 px-4 py-3 text-sm text-love-100">Solicitar novamente</a>
  {% endif %}
</section>
{% endblock %}
